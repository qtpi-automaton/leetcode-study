**Front (The Prompt):**
* **Problem:** Design array with set(index, val), snap() returns snap_id, get(index, snap_id) returns historical value. Example: `set(0,5), snap()→0, set(0,6), get(0,0)→5`
* **Key Constraints:** length ≤ 50000, at most 50000 calls
